---
title: 解决使用VS2013创建的MVC项目在VS2015中打开的各种问题。
tags:
  - visual studio
id: 959
categories:
  - ASP.NET
  - IDE
  - MVC
date: 2015-12-02 20:17:44
---

其实很多问题一直都存在，但是因为其不影响编译结果和运行结果，所以我也就一直没理它。但是问题放在那一直存在，偶尔想起来还有某些问题没解决的时候心里总是感觉不得劲，所以今天就彻底的查查资料解决了。

### 问题一：右击添加无添加控制器选项。

伴随着这个问题的现象还包括：
1\. 在控制器中的Action里右击无“返回到视图”选项
2\. 在View(cshtml)文件里右击无“返回控制器”选项
解决方法为升级ASP.NET MVC库，如果你之前使用的是asp.net mvc4，请升级到asp.net mvc5 最新版本号为5.2.3.0
使用Nuget程序管理器可以很方便的升级，而且避免了很重依赖库手动安装的麻烦。
升级完毕后Nuget为自动修改项目的web.config文件来适配新的依赖包版本。
所以这里强烈不建议手动升级，而是使用Nuget。

### 问题二：在view(cshtml)文件中提示“上下文中不存在model定义”，“上下文中不存在ViewBag”

伴随的现象还包括：凡是用到html辅助函数，url辅助函数的地方都会提示错误。
原因同样是因为配置文件的错误。因为我们升级了ASP.NET MVC后nuget只帮忙修改了项目文件夹下的web.config文件，而并没有修改View文件夹下的。
解决方法：使用VS2015新建一个空的ASP.NET MVC5程序，然后将View文件夹下的web.config文件内容拷贝到原来的项目对应的文件夹下。
重启项目。

Done！！