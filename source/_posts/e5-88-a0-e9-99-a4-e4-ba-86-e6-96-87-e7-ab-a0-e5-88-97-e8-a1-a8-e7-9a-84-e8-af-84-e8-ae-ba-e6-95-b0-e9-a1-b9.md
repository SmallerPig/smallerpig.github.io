---
title: 删除了文章列表的评论数项
tags:
  - wordpress
id: 1060
categories:
  - WEB开发
  - 小猪吐槽
date: 2016-08-12 17:41:02
---

由于定位的原因，小猪的blog访问量很少。就更别提有人来评论了。除了几篇比较热门的文章之外，其他文章基本上都是0评论，这样在列表页显示评论数似乎是一件很尴尬的事情。毕竟一进站发现所有文章的评论数都是0确实会给人很“荒凉”的感觉。
![都是评论数为0的文章](http://ww1.sinaimg.cn/mw690/88e12591gw1f6r3mzgqv9j20au0f10u2.jpg)

所谓家丑不外扬，所以小猪决定把这项给去掉。可惜的是小猪使用wordpress自带的Advent主题貌似不提供对这项的自由编辑选项。

所以决定自己动手丰衣足食了。

找到主题的函数模板文件function.php 发现这段的代码是放在另外一个文件里的：文件名为：`theme-default-setup.php`
找到他可以找到下面的代码：
```
function advent_entry_meta\(\) {

$advent_categories_list = get_the_category_list(',','');

$advent_tag_list = get_the_tag_list('', ',' );

$advent_author= ucfirst(get_the_author\(\));

$advent_author_url= esc_url( get_author_posts_url( get_the_author_meta( 'ID' ) ) );

$advent_comments = wp_count_comments(get_the_ID\(\));     

$advent_date = sprintf('发表于 :<time datetime="%1$s">%2$s</time>', esc_attr(get_the_date('c')), esc_html(get_the_date('y,m,d')));
?>  

            <li><a href="<?php echo $advent_author_url; ?>" rel="tag"><?php echo $advent_author; ?></a></li>

            <li><?php echo $advent_date; ?></li>

            <?php if(!empty($advent_categories_list)) { ?><li><?php _e('发表在 : ', 'advent'); ?><?php echo $advent_categories_list; ?></li><?php } ?>

            <?php if(!empty($advent_tag_list)) { ?><li><?php _e('标签 : ', 'advent'); ?><?php echo $advent_tag_list; ?></li><?php } ?>

    <li><?php $advent_comment = comments_number(__('No Comments', 'advent'), __('1 Comment', 'advent'), __('% Comments', 'advent')); ?></li> 

<?php   
}



```

可以看到上面代码是在获取并展示了文章的元数据，我们将想要删除的数据删除。也就是获取评论数的代码：

```  


function advent_entry_meta\(\) {

$advent_categories_list = get_the_category_list(',','');

$advent_tag_list = get_the_tag_list('', ',' );

$advent_author= ucfirst(get_the_author\(\));

$advent_author_url= esc_url( get_author_posts_url( get_the_author_meta( 'ID' ) ) );

$advent_date = sprintf('发表于 :<time datetime="%1$s">%2$s</time>', esc_attr(get_the_date('c')), esc_html(get_the_date('y,m,d')));
?>  

            <li><a href="<?php echo $advent_author_url; ?>" rel="tag"><?php echo $advent_author; ?></a></li>

            <li><?php echo $advent_date; ?></li>

            <?php if(!empty($advent_categories_list)) { ?><li><?php _e('发表在 : ', 'advent'); ?><?php echo $advent_categories_list; ?></li><?php } ?>

            <?php if(!empty($advent_tag_list)) { ?><li><?php _e('标签 : ', 'advent'); ?><?php echo $advent_tag_list; ?></li><?php } ?>        
<?php   
}

更新文件之后再看看我们的文章列表页是不是感觉不那么不自然了呢。？
不进文章具体内容页谁知道咱们的文章热度到底怎么样啊。啊哈哈哈哈
等到不知道哪天小猪的blog人气很高的时候，也就是每篇文章都有人评论的时候咱们再把这块遮羞布拿掉呗~2333333~~~