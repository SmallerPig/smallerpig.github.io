---
title: 防止用户按浏览器后退按钮回到登陆页面
id: 400
categories:
  - HTML
  - JS
  - WEB开发
date: 2014-01-15 20:54:46
tags:
---

这个在注册或者登陆的时候是一个普遍的问题，登陆之后，跳转到另外一个页面，如果这时候用户不小心点了后退按钮如果处理不当的话就会重新回到登陆页面，但事实是用户已经登录了，所有页面的状态都应该是已登录的，不管什么情况下都不应该让用户在看到这个页面。用户的点击操作会引发上面的问题，而程序 `history.go(-1) ;history.back()` 也会有一样的bug。  

这样的问题处理方案比较简单，ajax 拿到 success 的状态码时立刻做跳转，但是这里不能用 `window.location.href`，这样浏览器还是会记录这个登录历史，应该使用 `window.location.replace`，替换当前历史记录。